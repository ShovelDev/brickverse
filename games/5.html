<!DOCTYPE html>
<html>
<head>
	<title>BrickVerse</title>
</head>
<body>
	<script src="https://dyka.netlify.app/dyka.js"></script>
	<script type="text/javascript">
		initDyka()

		var player = new Dyka.obj(game.width/2-25, game.height/2-25, 50, 50, "red", 0)
		var space = new Dyka.obj(game.width/2-75, game.height/2-75, 150, 150, "black", 0)

		var magnetic = new Dyka.obj(Dyka.mouse.x, Dyka.mouse.y, 50, 50, "blue", 0)

		var coin = new Dyka.obj(Math.random() * game.width-10, Math.random() * game.height-10, 20, 20, "white", 0)

		var speed = 5
		var points = 0

		function loop(){
			Dyka.update(loop)

			if (magnetic.colliding(space)) {
				if (player.x < Dyka.mouse.x) {
					player.x -= speed
					space.x -= speed
				}else{
					player.x += speed
					space.x += speed
				}
				if (player.y < Dyka.mouse.y) {
					player.y -= speed
					space.y -= speed
				}else{
					player.y += speed
					space.y += speed
				}
			}

			if (Dyka.mouse.click) {
				if (player.x < game.width/2) {
					player.x += 1
					space.x += 1
				}else{
					player.x -= 1
					space.x -= 1
				}
				if (player.y < game.height/2) {
					player.y += 1
					space.y += 1
				}else{
					player.y -= 1
					space.y -= 1
				}
			}

			magnetic.x = Dyka.mouse.x-25
			magnetic.y = Dyka.mouse.y-25

			if (speed > 8) {
				speed = 8
			}

			if (player.colliding(coin)) {
				coin.x = Math.random() * game.width-10
				coin.y = Math.random() * game.height-10
				points++
				speed += 0.1
			}

			space.add()
			player.add()
			magnetic.add()
			coin.add()

			Dyka.print("Points: " + points, 20, 20, 20, "yellow")
		}
		loop()
	</script>
</body>
</html>
